<div class="budget-section">
  <h2 class="section-title">Danh mục thu chi</h2>
  <table class="budget-table">
    <thead>
      <tr>
        <th>Loại thu chi</th>
        <th>Tổng</th>
        <th>Còn dư</th>
        <th>Thời hạn</th>
        <th>ghi chú</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of budgetItems; let i = index" (click)="openModal(item, i)">
        <td>{{item.type}}</td>
        <td>{{item.total}}</td>
        <td>{{item.remaining}}</td>
        <td>{{item.deadline}}</td>
        <td>{{item.note}}</td>
      </tr>
    </tbody>
  </table>
</div>


<!-- Modal (form) -->
<div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h3>Chỉnh sửa danh mục</h3>

    <label>Loại thu chi:</label>
    <input [(ngModel)]="selectedItem.type" class="form-input">

    <label>Tổng:</label>
    <input [(ngModel)]="selectedItem.total" class="form-input">

    <label>Còn dư:</label>
    <input [(ngModel)]="selectedItem.remaining" class="form-input">

    <label>Thời hạn:</label>
    <input [(ngModel)]="selectedItem.deadline" class="form-input">

    <label>Ghi chú:</label>
    <textarea [(ngModel)]="selectedItem.note" class="form-input"></textarea>

    <div class="modal-actions">
      <button class="btn btn-edit" (click)="saveEdit()">Lưu chỉnh sửa</button>
      <button class="btn btn-delete" (click)="deleteItem()">Xóa</button>
      <button class="btn btn-cancel" (click)="closeModal()">Hủy</button>
    </div>
  </div>
</div>